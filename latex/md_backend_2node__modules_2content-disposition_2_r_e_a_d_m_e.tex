\chapter{content-\/disposition}
\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e}{}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e}\index{content-\/disposition@{content-\/disposition}}
\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md556}%
\Hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md556}%
 \href{https://npmjs.org/package/content-disposition}{\texttt{ }} \href{https://npmjs.org/package/content-disposition}{\texttt{ }} \href{https://nodejs.org/en/download}{\texttt{ }} \href{https://github.com/jshttp/content-disposition?query=workflow\%3Aci}{\texttt{ }} \href{https://coveralls.io/r/jshttp/content-disposition?branch=master}{\texttt{ }}

Create and parse HTTP {\ttfamily Content-\/\+Disposition} header\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md557}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md557}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ install\ content-\/disposition}

\end{DoxyCode}
\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md558}{}\doxysection{\texorpdfstring{API}{API}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md558}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ contentDisposition\ =\ require('content-\/disposition')}

\end{DoxyCode}
\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md559}{}\doxysubsection{\texorpdfstring{content\+Disposition(filename, options)}{content\+Disposition(filename, options)}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md559}
Create an attachment {\ttfamily Content-\/\+Disposition} header value using the given file name, if supplied. The {\ttfamily filename} is optional and if no file name is desired, but you want to specify {\ttfamily options}, set {\ttfamily filename} to {\ttfamily undefined}.


\begin{DoxyCode}{0}
\DoxyCodeLine{res.setHeader('Content-\/Disposition',\ contentDisposition('∫\ maths.pdf'))}

\end{DoxyCode}


{\bfseries{note}} HTTP headers are of the ISO-\/8859-\/1 character set. If you are writing this header through a means different from {\ttfamily set\+Header} in Node.\+js, you\textquotesingle{}ll want to specify the `\textquotesingle{}binary'\`{} encoding in Node.\+js.\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md560}{}\doxysubsubsection{\texorpdfstring{Options}{Options}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md560}
{\ttfamily content\+Disposition} accepts these properties in the options object.\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md561}{}\doxysubsubsubsection{\texorpdfstring{fallback}{fallback}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md561}
If the {\ttfamily filename} option is outside ISO-\/8859-\/1, then the file name is actually stored in a supplemental field for clients that support Unicode file names and a ISO-\/8859-\/1 version of the file name is automatically generated.

This specifies the ISO-\/8859-\/1 file name to override the automatic generation or disables the generation all together, defaults to {\ttfamily true}.


\begin{DoxyItemize}
\item A string will specify the ISO-\/8859-\/1 file name to use in place of automatic generation.
\item {\ttfamily false} will disable including a ISO-\/8859-\/1 file name and only include the Unicode version (unless the file name is already ISO-\/8859-\/1).
\item {\ttfamily true} will enable automatic generation if the file name is outside ISO-\/8859-\/1.
\end{DoxyItemize}

If the {\ttfamily filename} option is ISO-\/8859-\/1 and this option is specified and has a different value, then the {\ttfamily filename} option is encoded in the extended field and this set as the fallback field, even though they are both ISO-\/8859-\/1.\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md562}{}\doxysubsubsubsection{\texorpdfstring{type}{type}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md562}
Specifies the disposition type, defaults to {\ttfamily "{}attachment"{}}. This can also be {\ttfamily "{}inline"{}}, or any other value (all values except inline are treated like {\ttfamily attachment}, but can convey additional information if both parties agree to it). The type is normalized to lower-\/case.\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md563}{}\doxysubsection{\texorpdfstring{content\+Disposition.\+parse(string)}{content\+Disposition.\+parse(string)}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md563}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ disposition\ =\ contentDisposition.parse('attachment;\ filename="{}EURO\ rates.txt"{};\ filename*=UTF-\/8\(\backslash\)'\(\backslash\)'\%e2\%82\%ac\%20rates.txt')}

\end{DoxyCode}


Parse a {\ttfamily Content-\/\+Disposition} header string. This automatically handles extended ("{}\+Unicode"{}) parameters by decoding them and providing them under the standard parameter name. This will return an object with the following properties (examples are shown for the string `\textquotesingle{}attachment; filename="{}\+EURO rates.\+txt"{}; filename\texorpdfstring{$\ast$}{*}=UTF-\/8\&rsquo;\textbackslash{}\textquotesingle{}e2\%82ac\%20rates.\+txt\textquotesingle{}\`{})\+:


\begin{DoxyItemize}
\item {\ttfamily type}\+: The disposition type (always lower case). Example\+: `\textquotesingle{}attachment'\`{}
\item {\ttfamily parameters}\+: An object of the parameters in the disposition (name of parameter always lower case and extended versions replace non-\/extended versions). Example\+: {\ttfamily \{filename\+: "{}€ rates.\+txt"{}\}}
\end{DoxyItemize}\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md564}{}\doxysection{\texorpdfstring{Examples}{Examples}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md564}
\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md565}{}\doxysubsection{\texorpdfstring{Send a file for download}{Send a file for download}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md565}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ contentDisposition\ =\ require('content-\/disposition')}
\DoxyCodeLine{var\ destroy\ =\ require('destroy')}
\DoxyCodeLine{var\ fs\ =\ require('fs')}
\DoxyCodeLine{var\ http\ =\ require('http')}
\DoxyCodeLine{var\ onFinished\ =\ require('on-\/finished')}
\DoxyCodeLine{}
\DoxyCodeLine{var\ filePath\ =\ '/path/to/public/plans.pdf'}
\DoxyCodeLine{}
\DoxyCodeLine{http.createServer(function\ onRequest\ (req,\ res)\ \{}
\DoxyCodeLine{\ \ //\ set\ headers}
\DoxyCodeLine{\ \ res.setHeader('Content-\/Type',\ 'application/pdf')}
\DoxyCodeLine{\ \ res.setHeader('Content-\/Disposition',\ contentDisposition(filePath))}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ //\ send\ file}
\DoxyCodeLine{\ \ var\ stream\ =\ fs.createReadStream(filePath)}
\DoxyCodeLine{\ \ stream.pipe(res)}
\DoxyCodeLine{\ \ onFinished(res,\ function\ ()\ \{}
\DoxyCodeLine{\ \ \ \ destroy(stream)}
\DoxyCodeLine{\ \ \})}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md566}{}\doxysection{\texorpdfstring{Testing}{Testing}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md566}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ test}

\end{DoxyCode}
\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md567}{}\doxysection{\texorpdfstring{References}{References}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md567}

\begin{DoxyItemize}
\item \href{https://tools.ietf.org/html/rfc2616}{\texttt{ RFC 2616\+: Hypertext Transfer Protocol -- HTTP/1.\+1}}
\item \href{https://tools.ietf.org/html/rfc5987}{\texttt{ RFC 5987\+: Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters}}
\item \href{https://tools.ietf.org/html/rfc6266}{\texttt{ RFC 6266\+: Use of the Content-\/\+Disposition Header Field in the Hypertext Transfer Protocol (HTTP)}}
\item \href{http://greenbytes.de/tech/tc2231/}{\texttt{ Test Cases for HTTP Content-\/\+Disposition header field (RFC 6266) and the Encodings defined in RFCs 2047, 2231 and 5987}}
\end{DoxyItemize}\hypertarget{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md568}{}\doxysection{\texorpdfstring{License}{License}}\label{md_backend_2node__modules_2content-disposition_2_r_e_a_d_m_e_autotoc_md568}
\mbox{[}MIT\mbox{]}(LICENSE) 
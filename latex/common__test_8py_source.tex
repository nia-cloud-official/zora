\doxysection{common\+\_\+test.\+py}
\hypertarget{common__test_8py_source}{}\label{common__test_8py_source}\index{backend/node\_modules/node-\/gyp/gyp/pylib/gyp/common\_test.py@{backend/node\_modules/node-\/gyp/gyp/pylib/gyp/common\_test.py}}
\mbox{\hyperlink{common__test_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00001}\mbox{\hyperlink{namespacegyp_1_1common__test}{00001}}\ \textcolor{comment}{\#!/usr/bin/env\ python3}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00003}00003\ \textcolor{comment}{\#\ Copyright\ (c)\ 2012\ Google\ Inc.\ All\ rights\ reserved.}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00004}00004\ \textcolor{comment}{\#\ Use\ of\ this\ source\ code\ is\ governed\ by\ a\ BSD-\/style\ license\ that\ can\ be}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00005}00005\ \textcolor{comment}{\#\ found\ in\ the\ LICENSE\ file.}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00007}00007\ \textcolor{stringliteral}{"{}"{}"{}Unit\ tests\ for\ the\ common.py\ file."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00009}00009\ \textcolor{keyword}{import}\ \mbox{\hyperlink{namespacegyp_1_1common}{gyp.common}}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00010}00010\ \textcolor{keyword}{import}\ unittest}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00011}00011\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00014}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_topologically_sorted}{00014}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_topologically_sorted}{TestTopologicallySorted}}(unittest.TestCase):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00015}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_topologically_sorted_a03e6fb59f60c63b3fed5e962b4b726a5}{00015}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_topologically_sorted_a03e6fb59f60c63b3fed5e962b4b726a5}{test\_Valid}}(self):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00016}00016\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Test\ that\ sorting\ works\ on\ a\ valid\ graph\ with\ one\ possible\ order."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00017}00017\ \ \ \ \ \ \ \ \ graph\ =\ \{}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00018}00018\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}a"{}}:\ [\textcolor{stringliteral}{"{}b"{}},\ \textcolor{stringliteral}{"{}c"{}}],}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00019}00019\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}b"{}}:\ [],}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00020}00020\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}c"{}}:\ [\textcolor{stringliteral}{"{}d"{}}],}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00021}00021\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}d"{}}:\ [\textcolor{stringliteral}{"{}b"{}}],}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00024}00024\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }GetEdge(node):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00025}00025\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tuple(graph[node])}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ self.assertEqual(}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacegyp_1_1common_a959a06d815b87d3cb6ddd564bac597fd}{gyp.common.TopologicallySorted}}(graph.keys(),\ GetEdge),\ [\textcolor{stringliteral}{"{}a"{}},\ \textcolor{stringliteral}{"{}c"{}},\ \textcolor{stringliteral}{"{}d"{}},\ \textcolor{stringliteral}{"{}b"{}}]}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00031}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_topologically_sorted_a065a2c4b15af21087032b93082199abd}{00031}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_topologically_sorted_a065a2c4b15af21087032b93082199abd}{test\_Cycle}}(self):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Test\ that\ an\ exception\ is\ thrown\ on\ a\ cyclic\ graph."{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ graph\ =\ \{}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}a"{}}:\ [\textcolor{stringliteral}{"{}b"{}}],}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}b"{}}:\ [\textcolor{stringliteral}{"{}c"{}}],}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}c"{}}:\ [\textcolor{stringliteral}{"{}d"{}}],}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}d"{}}:\ [\textcolor{stringliteral}{"{}a"{}}],}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00038}00038\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{keyword}{def\ }GetEdge(node):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tuple(graph[node])}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ self.assertRaises(}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgyp_1_1common_1_1_cycle_error}{gyp.common.CycleError}},\ gyp.common.TopologicallySorted,\ graph.keys(),\ GetEdge}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00048}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor}{00048}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor}{TestGetFlavor}}(unittest.TestCase):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00049}00049\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Test\ that\ gyp.common.GetFlavor\ works\ as\ intended"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00051}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_ad1529cad0ca6b147794dbafe343ac6c7}{00051}}\ \ \ \ \ original\_platform\ =\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00053}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_af64f02f6762cbb1c5cea86b30c7ec231}{00053}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_af64f02f6762cbb1c5cea86b30c7ec231}{setUp}}(self):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_ad1529cad0ca6b147794dbafe343ac6c7}{original\_platform}}\ =\ sys.platform}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00056}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a331b2fd36bcebf876c4023d2449deaed}{00056}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a331b2fd36bcebf876c4023d2449deaed}{tearDown}}(self):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ sys.platform\ =\ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_ad1529cad0ca6b147794dbafe343ac6c7}{original\_platform}}}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00059}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{00059}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(self,\ expected,\ argument,\ param):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ sys.platform\ =\ argument}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ self.assertEqual(expected,\ \mbox{\hyperlink{namespacegyp_1_1common_aeb48ab17a03cd7c40f5ad72fac713486}{gyp.common.GetFlavor}}(param))}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00063}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a2c9e1ad36854688398fa6cc72c11c0cc}{00063}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a2c9e1ad36854688398fa6cc72c11c0cc}{test\_platform\_default}}(self):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}freebsd"{}},\ \textcolor{stringliteral}{"{}freebsd9"{}},\ \{\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}freebsd"{}},\ \textcolor{stringliteral}{"{}freebsd10"{}},\ \{\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}openbsd"{}},\ \textcolor{stringliteral}{"{}openbsd5"{}},\ \{\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}solaris"{}},\ \textcolor{stringliteral}{"{}sunos5"{}},\ \{\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}solaris"{}},\ \textcolor{stringliteral}{"{}sunos"{}},\ \{\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}linux"{}},\ \textcolor{stringliteral}{"{}linux2"{}},\ \{\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}linux"{}},\ \textcolor{stringliteral}{"{}linux3"{}},\ \{\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}linux"{}},\ \textcolor{stringliteral}{"{}linux"{}},\ \{\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00073}\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_adb32eb94cea5c77ecd80a605ac208e01}{00073}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_adb32eb94cea5c77ecd80a605ac208e01}{test\_param}}(self):}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classgyp_1_1common__test_1_1_test_get_flavor_a65e1f4899ab0085389875ebe8a42ce85}{assertFlavor}}(\textcolor{stringliteral}{"{}foobar"{}},\ \textcolor{stringliteral}{"{}linux2"{}},\ \{\textcolor{stringliteral}{"{}flavor"{}}:\ \textcolor{stringliteral}{"{}foobar"{}}\})}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00077}00077\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{common__test_8py_source_l00078}00078\ \ \ \ \ unittest.main()}

\end{DoxyCode}
